{% extends 'Admin/base.html.twig' %}

{% block title %}Profile{% endblock %}

{% block body %}
    <div class="modal fade" id="emailModal" tabindex="-1" role="dialog" aria-labelledby="emailModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="emailModalLabel">Change Email</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form action="#" method="post">
                    <div class="modal-body">
                        <input type="email" name="email" class="form-control" placeholder="your@email.com">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <div class="modal fade" id="passwordModal" tabindex="-1" role="dialog" aria-labelledby="passwordModalLabel"
         aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="passwordModalLabel">Change Password</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <form action="{{ path('change_password') }}" method="post">
                    <div class="modal-body">
                        <label for="old-password">Old Password</label>
                        <input type="password" id="old-password" name="old-password" class="form-control" placeholder="password">
                        <label for="new-password">New Password</label>
                        <input type="password" id="new-password" name="new-password" class="form-control" placeholder="password">
                        <label for="new-password-2">Repeat New Password</label>
                        <input type="password" id="new-password-2" name="new-password-2" class="form-control" placeholder="password">
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        <button type="submit" class="btn btn-primary">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ label }}" role="alert">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <h2 class="border-bottom">
        Profile
    </h2>
    <dl class="row">
        <dt class="col-sm-3">Username</dt>
        <dd class="col-sm-9">{{ user.username }}</dd>

        <dt class="col-sm-3">Email</dt>
        <dd class="col-sm-9">{{ user.email }}</dd>
    </dl>
    <div class="btn-group">
        <button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#emailModal">Change Email
        </button>
        <button type="button" class="btn btn-outline-dark" data-toggle="modal" data-target="#passwordModal">Change
            Password
        </button>
    </div>
{% endblock %}
